function tradeace_replace_template(a,i){var t=a.variation||{};return""!==i&&("undefined"!=typeof t.variation_description&&(i=i.replace("{{{data.variation.variation_description}}}",t.variation_description)),"undefined"!=typeof t.variation_description&&(i=i.replace("{{{data.variation.price_html}}}",t.price_html)),"undefined"!=typeof t.variation_description&&(i=i.replace("{{{data.variation.availability_html}}}",t.availability_html))),i}function change_gallery_variable_quickview(a,i,t){if(_quicked_gallery=!1,"undefined"==typeof _lightbox_variations[i.variation_id]){if("undefined"!=typeof tradeace_params_quickview&&"undefined"!=typeof tradeace_params_quickview.wc_ajax_url){var e=tradeace_params_quickview.wc_ajax_url.toString().replace("%%endpoint%%","tradeace_quickview_gallery_variation");a.ajax({url:e,type:"post",dataType:"json",cache:!1,data:{data:i},beforeSend:function(){a(t).hasClass("tradeace-processing")||a(t).addClass("tradeace-processing"),a(".tradeace-quickview-product-deal-countdown").html(""),a(".tradeace-quickview-product-deal-countdown").removeClass("tradeace-show"),a(".tradeace-product-gallery-lightbox").find(".tradeace-loading").length<=0&&a(".tradeace-product-gallery-lightbox").append('<div class="tradeace-loading"></div>'),a(".tradeace-product-gallery-lightbox").find(".tradeace-loader").length<=0&&a(".tradeace-product-gallery-lightbox").append('<div class="tradeace-loader" style="top:45%"></div>'),a(".tradeace-product-gallery-lightbox").css({"min-height":a(".tradeace-product-gallery-lightbox").outerHeight()})},success:function(e){_tradeace_calling_gallery=0,a(t).removeClass("tradeace-processing"),a(".tradeace-product-gallery-lightbox").find(".tradeace-loading, .tradeace-loader").remove(),_lightbox_variations[i.variation_id]=e,"undefined"!=typeof e.deal_variation?(a(".tradeace-quickview-product-deal-countdown").html(e.deal_variation),""!==e.deal_variation?(a("body").trigger("tradeace_load_countdown"),a(".tradeace-quickview-product-deal-countdown").hasClass("tradeace-show")||a(".tradeace-quickview-product-deal-countdown").addClass("tradeace-show")):a(".tradeace-quickview-product-deal-countdown").removeClass("tradeace-show")):a(".tradeace-quickview-product-deal-countdown").removeClass("tradeace-show"),"undefined"!=typeof e.quickview_gallery&&a(".tradeace-product-gallery-lightbox").find(".main-image-slider").replaceWith(e.quickview_gallery),"undefined"!=typeof _timeout_quickviewGallery&&clearTimeout(_timeout_quickviewGallery),_timeout_quickviewGallery=setTimeout(function(){a(".tradeace-product-gallery-lightbox").css({"min-height":"auto"})},200),a("body").trigger("tradeace_changed_gallery_variable_quickview")},error:function(){_tradeace_calling_gallery=0,a(t).removeClass("tradeace-processing")}})}}else{var n=_lightbox_variations[i.variation_id];"undefined"!=typeof n.deal_variation?(a(".tradeace-quickview-product-deal-countdown").html(n.deal_variation),""!==n.deal_variation?(a("body").trigger("tradeace_load_countdown"),a(".tradeace-quickview-product-deal-countdown").hasClass("tradeace-show")||a(".tradeace-quickview-product-deal-countdown").addClass("tradeace-show")):a(".tradeace-quickview-product-deal-countdown").removeClass("tradeace-show")):a(".tradeace-quickview-product-deal-countdown").removeClass("tradeace-show"),"undefined"!=typeof n.quickview_gallery&&(a(".tradeace-product-gallery-lightbox").append('<div class="tradeace-loading"></div>'),a(".tradeace-product-gallery-lightbox").append('<div class="tradeace-loader" style="top:45%"></div>'),a(".tradeace-product-gallery-lightbox").css({"min-height":a(".tradeace-product-gallery-lightbox").height()}),a(".tradeace-product-gallery-lightbox").find(".main-image-slider").replaceWith(n.quickview_gallery),"undefined"!=typeof _timeout_changed&&clearTimeout(_timeout_changed),_timeout_changed=setTimeout(function(){a(".tradeace-product-gallery-lightbox").find(".tradeace-loader, .tradeace-loading").remove(),a(".tradeace-product-gallery-lightbox").css({"min-height":"auto"})},200)),_tradeace_calling_gallery=0,a("body").trigger("tradeace_changed_gallery_variable_quickview")}}if("undefined"==typeof _single_variations)var _single_variations=[];var _quicked_gallery=!0,_tradeace_calling_gallery=0,_tradeace_calling_countdown=0;!function(a,i,t,e){var n=function(a){var i=this;i.$form=a,i.$attributeFields=a.find(".variations select"),i.$singleVariation=a.find(".single_variation"),i.$singleVariationWrap=a.find(".single_variation_wrap"),i.$resetVariations=a.find(".reset_variations"),i.$product=a.closest(".product"),i.variationData=a.data("product_variations"),i.useAjax=!1===i.variationData,i.xhr=!1,i.loading=!0,i.$singleVariationWrap.show(),i.$form.off(".wc-variation-form"),i.getChosenAttributes=i.getChosenAttributes.bind(i),i.findMatchingVariations=i.findMatchingVariations.bind(i),i.isMatch=i.isMatch.bind(i),i.toggleResetLink=i.toggleResetLink.bind(i),a.on("click.wc-variation-form",".reset_variations",{variationForm:i},i.onReset),a.on("reload_product_variations",{variationForm:i},i.onReload),a.on("hide_variation",{variationForm:i},i.onHide),a.on("show_variation",{variationForm:i},i.onShow),a.on("click",".single_add_to_cart_button",{variationForm:i},i.onAddToCart),a.on("reset_data",{variationForm:i},i.onResetDisplayedVariation),a.on("reset_image",{variationForm:i},i.onResetImage),a.on("change.wc-variation-form",".variations select",{variationForm:i},i.onChange),a.on("found_variation.wc-variation-form",{variationForm:i},i.onFoundVariation),a.on("check_variations.wc-variation-form",{variationForm:i},i.onFindVariation),a.on("update_variation_values.wc-variation-form",{variationForm:i},i.onUpdateAttributes),setTimeout(function(){a.trigger("check_variations"),a.trigger("wc_variation_form"),i.loading=!1},100)};n.prototype.onReset=function(a){a.preventDefault(),a.data.variationForm.$attributeFields.val("").change(),a.data.variationForm.$form.trigger("reset_data")},n.prototype.onReload=function(a){var i=a.data.variationForm;i.variationData=i.$form.data("product_variations"),i.useAjax=!1===i.variationData,i.$form.trigger("check_variations")},n.prototype.onHide=function(a){a.preventDefault(),a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("wc-variation-is-unavailable").addClass("disabled wc-variation-selection-needed"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-enabled").addClass("woocommerce-variation-add-to-cart-disabled")},n.prototype.onShow=function(a,i,t){a.preventDefault(),t?(a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("disabled wc-variation-selection-needed wc-variation-is-unavailable"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-disabled").addClass("woocommerce-variation-add-to-cart-enabled")):(a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("wc-variation-selection-needed").addClass("disabled wc-variation-is-unavailable"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-enabled").addClass("woocommerce-variation-add-to-cart-disabled"))},n.prototype.onAddToCart=function(t){a(this).is(".disabled")&&(t.preventDefault(),a(this).is(".wc-variation-is-unavailable")?i.alert(tradeace_params_quickview.i18n_unavailable_text):a(this).is(".wc-variation-selection-needed")&&i.alert(tradeace_params_quickview.i18n_make_a_selection_text))},n.prototype.onResetDisplayedVariation=function(a){var i=a.data.variationForm;i.$product.find(".product_meta").find(".sku").wc_reset_content(),i.$product.find(".product_weight").wc_reset_content(),i.$product.find(".product_dimensions").wc_reset_content(),i.$form.trigger("reset_image"),i.$singleVariation.slideUp(200).trigger("hide_variation")},n.prototype.onResetImage=function(a){a.data.variationForm.$form.lightbox_wc_variations_image_update(!1)},n.prototype.onFindVariation=function(i){var t=i.data.variationForm,e=t.getChosenAttributes(),n=e.data;if(e.count===e.chosenCount)if(t.useAjax)t.xhr&&t.xhr.abort(),t.$form.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),n.product_id=parseInt(t.$form.data("product_id"),10),n.custom_data=t.$form.data("custom_data"),t.xhr=a.ajax({url:tradeace_params_quickview.wc_ajax_url.toString().replace("%%endpoint%%","get_variation"),type:"POST",data:n,success:function(a){a?t.$form.trigger("found_variation",[a]):(t.$form.trigger("reset_data"),e.chosenCount=0,t.loading||(t.$form.find(".single_variation").after('<p class="wc-no-matching-variations woocommerce-info">'+tradeace_params_quickview.i18n_no_matching_variations_text+"</p>"),t.$form.find(".wc-no-matching-variations").slideDown(200)))},complete:function(){t.$form.unblock()}});else{t.$form.trigger("update_variation_values");var o=t.findMatchingVariations(t.variationData,n),r=o.shift();r?t.$form.trigger("found_variation",[r]):(t.$form.trigger("reset_data"),e.chosenCount=0,t.loading||(t.$form.find(".single_variation").after('<p class="wc-no-matching-variations woocommerce-info">'+tradeace_params_quickview.i18n_no_matching_variations_text+"</p>"),t.$form.find(".wc-no-matching-variations").slideDown(200)))}else t.$form.trigger("update_variation_values"),t.$form.trigger("reset_data");t.toggleResetLink(e.chosenCount>0)},n.prototype.onFoundVariation=function(i,t){var e=i.data.variationForm,n=e.$product.find(".product_meta").find(".sku"),r=e.$product.find(".product_weight"),s=e.$product.find(".product_dimensions"),d=e.$singleVariationWrap.find(".quantity"),l=!0,c=!1,u="";t.sku?n.wc_set_content(t.sku):n.wc_reset_content(),t.weight?r.wc_set_content(t.weight_html):r.wc_reset_content(),t.dimensions?s.wc_set_content(a.parseHTML(t.dimensions_html)[0].data):s.wc_reset_content(),e.$form.lightbox_wc_variations_image_update(t),c=t.variation_is_visible?o("variation-template"):o("unavailable-variation-template"),u=tradeace_replace_template({variation:t},c),u=u.replace("/*<![CDATA[*/",""),u=u.replace("/*]]>*/",""),e.$singleVariation.html(u),e.$form.find('input[name="variation_id"], input.variation_id').val(t.variation_id).change(),"yes"===t.is_sold_individually?(d.find("input.qty").val("1").attr("min","1").attr("max",""),d.hide()):(d.find("input.qty").attr("min",t.min_qty).attr("max",t.max_qty),d.show()),t.is_purchasable&&t.is_in_stock&&t.variation_is_visible||(l=!1),a.trim(e.$singleVariation.text())?e.$singleVariation.slideDown(200).trigger("show_variation",[t,l]):e.$singleVariation.show().trigger("show_variation",[t,l])},n.prototype.onChange=function(i){var t=i.data.variationForm;t.$form.find('input[name="variation_id"], input.variation_id').val("").change(),t.$form.find(".wc-no-matching-variations").remove(),t.useAjax?t.$form.trigger("check_variations"):(t.$form.trigger("woocommerce_variation_select_change"),t.$form.trigger("check_variations"),a(this).blur()),t.$form.trigger("woocommerce_variation_has_changed")},n.prototype.addSlashes=function(a){return a=a.replace(/'/g,"\\'"),a=a.replace(/"/g,'\\"')},n.prototype.onUpdateAttributes=function(i){var t=i.data.variationForm,e=t.getChosenAttributes(),n=e.data;if(!t.useAjax){if(t.$attributeFields.each(function(i,e){var o=a(e),r=o.data("attribute_name")||o.attr("name"),s=a(e).data("show_option_none"),d=":gt(0)",l=0,c=a("<select/>"),u=o.val()||"",_=!0;if(!o.data("attribute_html")){var v=o.clone();v.find("option").removeAttr("disabled attached").removeAttr("selected"),o.data("attribute_options",v.find("option"+d).get()),o.data("attribute_html",v.html())}c.html(o.data("attribute_html"));var g=a.extend(!0,{},n);g[r]="";var p=t.findMatchingVariations(t.variationData,g);for(var f in p)if("undefined"!=typeof p[f]){var h=p[f].attributes;for(var m in h)if(h.hasOwnProperty(m)){var w=h[m],b="";m===r&&(p[f].variation_is_active&&(b="enabled"),w?(w=a("<div/>").html(w).text(),c.find('option[value="'+t.addSlashes(w)+'"]').addClass("attached "+b)):c.find("option:gt(0)").addClass("attached "+b))}}l=c.find("option.attached").length,!u||0!==l&&0!==c.find('option.attached.enabled[value="'+t.addSlashes(u)+'"]').length||(_=!1),l>0&&u&&_&&"no"===s&&(c.find("option:first-child").remove(),d=""),c.find("option"+d+":not(.attached)").remove(),o.html(c.html()),o.find("option"+d+":not(.enabled)").prop("disabled",!0),u?_?o.val(u):o.val("").change():o.val("")}),a(".product-lightbox").find(".tradeace-gallery-variation-supported").length&&!_quicked_gallery&&"undefined"!=typeof _lightbox_variations[0]){_quicked_gallery=!0;var o=_lightbox_variations[0];"undefined"!=typeof o.quickview_gallery&&a(".tradeace-product-gallery-lightbox").find(".main-image-slider").replaceWith(o.quickview_gallery),a("body").trigger("tradeace_changed_gallery_variable_quickview")}a(".tradeace-quickview-product-deal-countdown").length&&(a(".tradeace-quickview-product-deal-countdown").html(""),a(".tradeace-quickview-product-deal-countdown").removeClass("tradeace-show")),t.$form.trigger("woocommerce_update_variation_values")}},n.prototype.getChosenAttributes=function(){var i={},t=0,e=0;return this.$attributeFields.each(function(){var n=a(this).data("attribute_name")||a(this).attr("name"),o=a(this).val()||"";o.length>0&&e++,t++,i[n]=o}),{count:t,chosenCount:e,data:i}},n.prototype.findMatchingVariations=function(a,i){for(var t=[],e=0;e<a.length;e++){var n=a[e];this.isMatch(n.attributes,i)&&t.push(n)}return t},n.prototype.isMatch=function(a,i){var t=!0;for(var n in a)if(a.hasOwnProperty(n)){var o=a[n],r=i[n];o!==e&&r!==e&&0!==o.length&&0!==r.length&&o!==r&&(t=!1)}return t},n.prototype.toggleResetLink=function(a){a?"hidden"===this.$resetVariations.css("visibility")&&this.$resetVariations.css("visibility","visible").hide().fadeIn():this.$resetVariations.css("visibility","hidden")},a.fn.wc_variation_form_lightbox=function(){return new n(this),this},a.fn.wc_set_content=function(a){e===this.attr("data-o_content")&&this.attr("data-o_content",this.text()),this.text(a)},a.fn.wc_reset_content=function(){e!==this.attr("data-o_content")&&this.text(this.attr("data-o_content"))},a.fn.wc_set_variation_attr=function(a,i){e===this.attr("data-o_"+a)&&this.attr("data-o_"+a,this.attr(a)?this.attr(a):""),!1===i?this.removeAttr(a):this.attr(a,i)},a.fn.wc_reset_variation_attr=function(a){e!==this.attr("data-o_"+a)&&this.attr(a,this.attr("data-o_"+a))},a.fn.wc_maybe_trigger_slide_position_reset=function(i){var t=a(this),e=t.closest(".product"),n=e.find(".images"),o=!1,r=i&&i.image_id?i.image_id:"";t.attr("current-image")!==r&&(o=!0),t.attr("current-image",r),o&&n.trigger("woocommerce_gallery_reset_slide_position")},a.fn.lightbox_wc_variations_image_update=function(i){var t=this;if(i&&i.image&&i.image.src&&i.image.src.length>1){if(a(".product-lightbox").find(".tradeace-gallery-variation-supported").length){if(0==_tradeace_calling_gallery){_tradeace_calling_gallery=1;var e={variation_id:i.variation_id,is_purchasable:i.is_purchasable,is_in_stock:i.is_in_stock,main_id:"undefined"!=typeof i.image_id?i.image_id:0,gallery:"undefined"!=typeof i.tradeace_gallery_variation?i.tradeace_gallery_variation:[],show_images:a(".product-lightbox").find(".main-image-slider").attr("data-items")};change_gallery_variable_quickview(a,e,t)}}else{_tradeace_calling_gallery=0;var n="undefined"!=typeof i.image_single_page?i.image_single_page:i.image.url;a(".main-image-slider img.tradeace-first").attr("src",n),a(".main-image-slider img.tradeace-first").removeAttr("srcset")}if(a(".product-lightbox").find(".tradeace-gallery-variation-supported").length<1&&a(".tradeace-quickview-product-deal-countdown").length)if(i&&i.variation_id&&i.is_in_stock&&i.is_purchasable)if("undefined"==typeof _single_variations[i.variation_id]&&0==_tradeace_calling_countdown){if(_tradeace_calling_countdown=1,"undefined"!=typeof tradeace_params_quickview&&"undefined"!=typeof tradeace_params_quickview.wc_ajax_url){var o=tradeace_params_quickview.wc_ajax_url.toString().replace("%%endpoint%%","tradeace_get_deal_variation");a.ajax({url:o,type:"post",cache:!1,data:{pid:i.variation_id},beforeSend:function(){t.hasClass("tradeace-processing-countdown")||t.addClass("tradeace-processing-countdown"),a(".tradeace-quickview-product-deal-countdown").html(""),a(".tradeace-quickview-product-deal-countdown").removeClass("tradeace-show")},success:function(e){_tradeace_calling_countdown=0,t.removeClass("tradeace-processing-countdown"),_single_variations[i.variation_id]="undefined"!=typeof e.success&&"1"===e.success?e.content:"",a(".tradeace-quickview-product-deal-countdown").html(_single_variations[i.variation_id]),""!==_single_variations[i.variation_id]?(a("body").trigger("tradeace_load_countdown"),a(".tradeace-quickview-product-deal-countdown").hasClass("tradeace-show")||a(".tradeace-quickview-product-deal-countdown").addClass("tradeace-show")):a(".tradeace-quickview-product-deal-countdown").removeClass("tradeace-show")},error:function(){t.removeClass("tradeace-processing-countdown")}})}}else a(".tradeace-quickview-product-deal-countdown").html(_single_variations[i.variation_id]),""!==_single_variations[i.variation_id]?(a("body").trigger("tradeace_load_countdown"),a(".tradeace-quickview-product-deal-countdown").hasClass("tradeace-show")||a(".tradeace-quickview-product-deal-countdown").addClass("tradeace-show")):a(".tradeace-quickview-product-deal-countdown").removeClass("tradeace-show"),_tradeace_calling_countdown=0;else a(".tradeace-quickview-product-deal-countdown").html(""),a(".tradeace-quickview-product-deal-countdown").removeClass("tradeace-show")}else t.lightbox_wc_variations_image_reset()},a.fn.lightbox_wc_variations_image_reset=function(){if(a(".product-lightbox").find(".tradeace-gallery-variation-supported").length){if(!_quicked_gallery&&"undefined"!=typeof _lightbox_variations[0]){_quicked_gallery=!0;var i=_lightbox_variations[0];"undefined"!=typeof i.quickview_gallery&&a(".tradeace-product-gallery-lightbox").find(".main-image-slider").replaceWith(i.quickview_gallery)}}else{var t=a(".tradeace-product-gallery-lightbox").attr("data-o_href");a(".main-image-slider img.tradeace-first").attr("src",t).removeAttr("srcset")}a("body").trigger("tradeace_changed_gallery_variable_quickview")};var o=function(a){return t.getElementById("tmpl-"+a+"-tradeace").textContent}}(jQuery,window,document);var _lightbox_variations,tradeace_quick_viewimg=!1;jQuery(document).ready(function(a){"use strict";var i,t=a('input[name="tradeace_mobile_layout"]').length?!0:!1,e=[];a("body").on("click",".quick-view",function(n){if(a.magnificPopup.close(),"undefined"!=typeof tradeace_params_quickview&&"undefined"!=typeof tradeace_params_quickview.wc_ajax_url){var o=tradeace_params_quickview.wc_ajax_url.toString().replace("%%endpoint%%","tradeace_quick_view"),r=a(this),s=a(r).attr("data-product_type");if("woosb"===s&&"undefined"!=typeof a(r).attr("data-href"))window.location.href=a(r).attr("data-href");else{var d=a(r).parents(".product-item"),l=a(r).attr("data-prod"),c="1"===a(r).attr("data-from_wishlist")?"1":"0";a(d).length<=0&&(d=a(r).parents(".item-product-widget")),a(d).length<=0&&(d=a(r).parents(".wishlist-item-warper")),a(d).length&&a(d).append('<div class="tradeace-light-fog"></div><div class="tradeace-loader"></div>');var u={product:l,tradeace_wishlist:c};tradeace_quick_viewimg=!0,a(".tradeace-value-gets").length&&a(".tradeace-value-gets").find("input").length&&a(".tradeace-value-gets").find("input").each(function(){var i=a(this).attr("name"),t=a(this).val();u[i]=t});var _=1===a("#tradeace-quickview-sidebar").length?!0:!1;u.quickview=_?"sidebar":"popup";var v=!0;if("undefined"!=typeof e[l]&&(v=!1),v)a.ajax({url:o,type:"post",dataType:"json",data:u,cache:!1,beforeSend:function(){_&&(a("#tradeace-quickview-sidebar #tradeace-quickview-sidebar-content").html('<div class="tradeace-loader"></div>'),a(".black-window").fadeIn(200).addClass("desk-window"),a("#tradeace-viewed-sidebar").removeClass("tradeace-active"),a("#tradeace-quickview-sidebar").length&&!a("#tradeace-quickview-sidebar").hasClass("tradeace-active")&&a("#tradeace-quickview-sidebar").addClass("tradeace-active")),a(".tradeace-static-wrap-cart-wishlist").length&&a(".tradeace-static-wrap-cart-wishlist").hasClass("tradeace-active")&&a(".tradeace-static-wrap-cart-wishlist").removeClass("tradeace-active"),"undefined"!=typeof i&&clearInterval(i)},success:function(n){e[l]=n,_?(a("#tradeace-quickview-sidebar #tradeace-quickview-sidebar-content").html('<div class="product-lightbox">'+n.content+"</div>"),setTimeout(function(){a("#tradeace-quickview-sidebar #tradeace-quickview-sidebar-content .product-lightbox").addClass("tradeace-loaded")},600)):(a.magnificPopup.open({mainClass:"my-mfp-zoom-in",items:{src:'<div class="product-lightbox">'+n.content+"</div>",type:"inline"},closeMarkup:'<a class="tradeace-mfp-close tradeace-stclose" href="javascript:void(0);" title="'+a('input[name="tradeace-close-string"]').val()+'"></a>',callbacks:{beforeClose:function(){this.st.removalDelay=350},afterClose:function(){"undefined"!=typeof i&&clearInterval(i)}}}),a(".black-window").trigger("click")),a("body").trigger("tradeace_init_product_gallery_lightbox"),a(r).hasClass("tradeace-view-from-wishlist")&&(a(".wishlist-item").animate({opacity:1},500),_||a(".wishlist-close a").trigger("click")),a(d).length&&a(d).find(".tradeace-loader, .color-overlay, .tradeace-dark-fog, .tradeace-light-fog").remove();var o=a(".product-lightbox").find(".variations_form");a(o).length&&a(o).find(".single_variation_wrap").length&&(a(o).find(".single_variation_wrap").hide(),a(o).wc_variation_form_lightbox(n.mess_unavailable),a(o).find("select").change(),a(o).find('.variations select option[selected="selected"]').length&&a(o).find(".variations .reset_variations").css({visibility:"visible"}).show(),a("body").trigger("tradeace_init_ux_variation_form",o));var s=a(".product-lightbox").find(".woocommerce-grouped-product-list-item");a(s).length&&(a(s).removeAttr("style"),a(s).removeClass("wow")),_||(i=setInterval(function(){var e=a(".product-lightbox .product-img").outerHeight();a(".product-lightbox .product-quickview-info").css({"max-height":e,"overflow-y":"auto"}),a(".product-lightbox .product-quickview-info").hasClass("tradeace-active")||a(".product-lightbox .product-quickview-info").addClass("tradeace-active"),t&&clearInterval(i)},1e3)),add_class_btn_single_button(a),a("body").trigger("tradeace_after_quickview"),setTimeout(function(){a("body").trigger("tradeace_after_quickview_timeout")},600),setTimeout(function(){a(window).resize()},800)}});else{var g=e[l];_&&(a("#tradeace-quickview-sidebar #tradeace-quickview-sidebar-content").html('<div class="tradeace-loader"></div>'),a(".black-window").fadeIn(200).addClass("desk-window"),a("#tradeace-viewed-sidebar").removeClass("tradeace-active"),a("#tradeace-quickview-sidebar").length&&!a("#tradeace-quickview-sidebar").hasClass("tradeace-active")&&a("#tradeace-quickview-sidebar").addClass("tradeace-active")),a(".tradeace-static-wrap-cart-wishlist").length&&a(".tradeace-static-wrap-cart-wishlist").hasClass("tradeace-active")&&a(".tradeace-static-wrap-cart-wishlist").removeClass("tradeace-active"),"undefined"!=typeof i&&clearInterval(i),_?(a("#tradeace-quickview-sidebar #tradeace-quickview-sidebar-content").html('<div class="product-lightbox hidden-tag">'+g.content+"</div>"),setTimeout(function(){a("#tradeace-quickview-sidebar #tradeace-quickview-sidebar-content .product-lightbox").fadeIn(1e3)},600)):(a.magnificPopup.open({mainClass:"my-mfp-zoom-in",items:{src:'<div class="product-lightbox">'+g.content+"</div>",type:"inline"},closeMarkup:'<a class="tradeace-mfp-close tradeace-stclose" href="javascript:void(0);" title="'+a('input[name="tradeace-close-string"]').val()+'"></a>',callbacks:{beforeClose:function(){this.st.removalDelay=350},afterClose:function(){"undefined"!=typeof i&&clearInterval(i)}}}),a(".black-window").trigger("click")),a("body").trigger("tradeace_init_product_gallery_lightbox"),a(r).hasClass("tradeace-view-from-wishlist")&&(a(".wishlist-item").animate({opacity:1},500),_||a(".wishlist-close a").trigger("click")),a(d).length&&a(d).find(".tradeace-loader, .color-overlay, .tradeace-dark-fog, .tradeace-light-fog").remove();var p=a(".product-lightbox").find(".variations_form");a(p).length&&a(p).find(".single_variation_wrap").length&&(a(p).find(".single_variation_wrap").hide(),a(p).wc_variation_form_lightbox(g.mess_unavailable),a(p).find("select").change(),a(p).find('.variations select option[selected="selected"]').length&&a(p).find(".variations .reset_variations").css({visibility:"visible"}).show(),a("body").trigger("tradeace_init_ux_variation_form",p));var f=a(".product-lightbox").find(".woocommerce-grouped-product-list-item");a(f).length&&(a(f).removeAttr("style"),a(f).removeClass("wow")),_||(i=setInterval(function(){var e=a(".product-lightbox .product-img").outerHeight();a(".product-lightbox .product-quickview-info").css({"max-height":e,"overflow-y":"auto"}),a(".product-lightbox .product-quickview-info").hasClass("tradeace-active")||a(".product-lightbox .product-quickview-info").addClass("tradeace-active"),t&&clearInterval(i)},1e3)),add_class_btn_single_button(a),a("body").trigger("tradeace_after_quickview"),setTimeout(function(){a("body").trigger("tradeace_after_quickview_timeout")},600),setTimeout(function(){a(window).resize()},800)}}}n.preventDefault()}),a("body").on("tradeace_changed_gallery_variable_quickview",function(){a("body").trigger("tradeace_load_slick_slider")}),a("body").on("tradeace_init_product_gallery_lightbox",function(){a(".product-lightbox").find(".tradeace-product-gallery-lightbox").length&&(_lightbox_variations[0]={quickview_gallery:a(".product-lightbox").find(".tradeace-product-gallery-lightbox").html()})}),a("body").on("tradeace_after_close_fog_window",function(){tradeace_quick_viewimg=!1})});var _timeout_quickviewGallery;